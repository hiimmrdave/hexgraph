import{cellPoints as t,cubeToPoint as e}from"./layout.js";import{makeVulgar as n}from"./utils.js";const i="http://www.w3.org/2000/svg";function r(e,n){return`M${t({cell:e,layout:n}).map((t=>`${t.x},${t.y}`)).join(" L")}z`}function s({size:t}){const e=document.createElementNS(i,"svg");return e.setAttribute("xmlns",i),e.setAttribute("viewBox",`0 0 ${t.x} ${t.y}`),e.setAttribute("width",t.x.toString(10)),e.setAttribute("height",t.y.toString(10)),Object.assign(e.style,{width:t.x.toString(10),height:t.y.toString(10),padding:"0",margin:"0"}),e}const d={Cell:"red",Vertex:"green",Edge:"blue"};function o(t,n){const r=e(t,n),s=document.createElementNS(i,"g");return s.appendChild(c(r,t)),s.appendChild(l(r,t)),s.appendChild(a(r,t)),s}function c({x:t,y:e},{q:n,r:r,s:s,id:o,kind:c}){const l=document.createElementNS(i,"circle");return l.classList.add(c),l.style.transformOrigin=`${t} ${e}`,l.style.fill=d[c],l.setAttribute("cx",`${t}`),l.setAttribute("cy",`${e}`),l.setAttribute("r","2"),Object.assign(l.dataset,{q:n,r:r,s:s,id:o}),l}function l({x:t,y:e},{q:n,r:r,s:s,kind:o}){const c=document.createElementNS(i,"text");return c.textContent=`${6*n}, ${6*r}, ${6*s}`,c.style.fill=d[o],c.setAttribute("x",`${t}`),c.setAttribute("y",""+(e-5)),c.setAttribute("text-anchor","middle"),c}function a({x:t,y:e},{q:r,r:s,s:o,kind:c}){const l=document.createElementNS(i,"text");return l.textContent=`${n(r)}, ${n(s)}, ${n(o)}`,l.style.fill=d[c],l.setAttribute("x",`${t}`),l.setAttribute("y",`${e+15}`),l.setAttribute("text-anchor","middle"),l.setAttribute("alignment-baseline","top"),l}function u(t,n){const s=document.createElementNS(i,"path"),d=e(t,n);return s.classList.add("cell"),s.style.transformOrigin=`${d.x}px ${d.y}px`,s.setAttribute("d",r(t,n)),s.dataset.hexNodeId=t.id,Object.assign(s.dataset,{q:t.q,r:t.r,s:t.s}),s}export function renderSvg(t,e,n,i=!1){const r=document.getElementById(t)??document.createElement("div"),d=s(e);n.forEach((t=>{"Cell"===t.kind&&d.appendChild(u(t,e))})),!0===i&&n.forEach((t=>{d.appendChild(o(t,e))})),r.appendChild(d)}export function buildCanvas(t,e){const n=document.getElementById(t)??document.createElement("div"),i=document.createElement("canvas");return i.setAttribute("width",e.size.x.toString(10)),i.setAttribute("height",e.size.y.toString(10)),n.appendChild(i),i}export function renderCanvasFrame(t,e,n){t.clearRect(0,0,e.size.x,e.size.y),n.forEach((n=>{"Cell"===n.kind&&t.stroke(new Path2D(r(n,e)))}))}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZW5kZXJlci50cyJdLCJuYW1lcyI6WyJjZWxsUG9pbnRzIiwiY3ViZVRvUG9pbnQiLCJtYWtlVnVsZ2FyIiwiU1ZHTlMiLCJjZWxsUGF0aCIsImNlbGwiLCJsYXlvdXQiLCJtYXAiLCJlIiwieCIsInkiLCJqb2luIiwiYnVpbGRTdmdSb290Iiwic2l6ZSIsInN2Z1Jvb3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwiT2JqZWN0IiwiYXNzaWduIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsInBhZGRpbmciLCJtYXJnaW4iLCJub2RlQ29sb3JzIiwiQ2VsbCIsIlZlcnRleCIsIkVkZ2UiLCJidWlsZFN2Z01hcmtlciIsInBvaW50Iiwic3BvdCIsImdyb3VwIiwiYXBwZW5kQ2hpbGQiLCJidWlsZFN2Z0RvdCIsImJ1aWxkU3ZnTGFiZWwiLCJidWlsZFN2Z0JvdHRvbVRleHQiLCJxIiwiciIsInMiLCJpZCIsImtpbmQiLCJkb3QiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJmaWxsIiwiZGF0YXNldCIsImxhYmVsIiwidGV4dENvbnRlbnQiLCJidWlsZFN2Z0NlbGwiLCJwYXRoIiwiYyIsImhleE5vZGVJZCIsInJlbmRlclN2ZyIsInRhcmdldElkIiwiZ3JpZCIsImRlYnVnIiwidGFyZ2V0RWxlbSIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImZvckVhY2giLCJub2RlIiwiYnVpbGRDYW52YXMiLCJjYW52YXNSb290IiwicmVuZGVyQ2FudmFzRnJhbWUiLCJjdHgiLCJjbGVhclJlY3QiLCJzdHJva2UiLCJQYXRoMkQiXSwibWFwcGluZ3MiOiJxQkFBaUNBLGlCQUFZQyxNQUFtQixtQ0FHdkRDLE1BQWtCLGFBRTNCLE1BQU1DLEVBQVEsNkJBT2QsU0FBU0MsRUFBU0MsRUFBZ0JDLEdBQ2hDLE1BQU8sSUFBSU4sRUFBVyxDQUFFSyxLQUFBQSxFQUFN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