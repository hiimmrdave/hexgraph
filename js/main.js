import{buildCanvas as e,renderCanvasFrame as t,renderSvg as n}from"./renderer.js";import{configureLayout as o,rotateTransform as a,shearTransform as r,scaleTransform as s}from"./layout.js";import{makeGrid as d}from"./grid.js";import*as l from"./subset.js";import*as u from"./hex.js";const c="svghg",g="canvhg",m=["line","ring","hexagon","cone","rhombbus"],i="shapes",h=o({x:45,y:45},{x:90,y:90},[s(5,5)]),p=d({size:5}),v=u.makeNode({q:1,r:-1,s:0},"Cell"),y={q:-2,r:4,s:-2},I=[l.line({source:v,toward:y}),l.ring({source:v,size:3}),l.hexagon({source:v,size:3}),l.cone({source:v,toward:y,size:4}),l.rhombus({source:v,toward:y,size:3})],x=document.getElementById("svghg");export const inputs=document.querySelector('form[id="params"]'),getFloatValue=e=>{const t=document.getElementById(e);return parseFloat(t.value)},getIntValue=e=>{const t=document.getElementById(e);return parseInt(t.value,10)},getRadioValue=e=>document.querySelector(`input[name="${e}"]:checked`).value,getStringValue=e=>document.getElementById(e).value,getForm=()=>{return[o({x:getIntValue("orx"),y:getIntValue("ory")},{x:getIntValue("csx"),y:getIntValue("csy")},[a(getFloatValue("orientation")*Math.PI/12),r(getFloatValue("shx"),getFloatValue("shy")),s(getIntValue("hsx"),getIntValue("hsy"))]),d({shape:(e="shape",document.querySelector(`input[name="${e}"]:checked`).value),size:{a:getIntValue("gs1"),b:getIntValue("gs2")},populate:!0})];var e},rendSvg=()=>{const e=getForm();let t;var o;for(document.getElementById("shapes").style.width=(o="csx",document.getElementById(o).value)+"px";t=x.lastChild;)x.removeChild(t);n("svghg",...e)},makeCanv=()=>{const[n,o]=getForm(),a=e("canvhg",n),r=a.getContext("2d");return document.getElementById("canvhg").appendChild(a),t(r,n,o),r},rendCanv=e=>{t(e,...getForm())};let V;document.addEventListener("DOMContentLoaded",(()=>{rendSvg(),V=makeCanv(),rendCanv(V);const e=document.getElementById("shapes");m.forEach(((t,o)=>{const a=document.createElement("div"),r=I[o];a.id=t,a.style.display="inline-block",e.appendChild(a),n(t,h,p);a.querySelector(`[data-hex-node-id="${v.id}"]`).classList.add("source"),r.forEach((e=>{const n=document.querySelector(`#${t} [data-hex-node-id="${e.id}"]`);n&&n.classList.add("hilit")}))}))})),inputs.addEventListener("input",(()=>{rendSvg(),rendCanv(V)}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbImJ1aWxkQ2FudmFzIiwicmVuZGVyQ2FudmFzRnJhbWUiLCJyZW5kZXJTdmciLCJjb25maWd1cmVMYXlvdXQiLCJyb3RhdGVUcmFuc2Zvcm0iLCJzaGVhclRyYW5zZm9ybSIsInNjYWxlVHJhbnNmb3JtIiwibWFrZUdyaWQiLCJTdWJzZXQiLCJIZXgiLCJzdmdHcmlkVGFyZ2V0IiwiY2FudmFzR3JpZFRhcmdldCIsInNoYXBlcyIsInNoYXBlc0hvbGRlciIsInNoYXBlTGF5b3V0Q29uZmlnIiwieCIsInkiLCJzaGFwZUdyaWQiLCJzaXplIiwic291cmNlIiwibWFrZU5vZGUiLCJxIiwiciIsInMiLCJ0b3dhcmQiLCJzdWJzZXRzIiwibGluZSIsInJpbmciLCJoZXhhZ29uIiwiY29uZSIsInJob21idXMiLCJzdmdSZW5kZXJDb250ZXh0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlucHV0cyIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRGbG9hdFZhbHVlIiwiZWxlbWVudElkIiwiaW5wdXQiLCJwYXJzZUZsb2F0IiwidmFsdWUiLCJnZXRJbnRWYWx1ZSIsInBhcnNlSW50IiwiZ2V0UmFkaW9WYWx1ZSIsImVsZW1lbnROYW1lIiwiZ2V0U3RyaW5nVmFsdWUiLCJnZXRGb3JtIiwiTWF0aCIsIlBJIiwic2hhcGUiLCJhIiwiYiIsInBvcHVsYXRlIiwicmVuZFN2ZyIsImNvbmZpZyIsImxhc3QiLCJzdHlsZSIsIndpZHRoIiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJtYWtlQ2FudiIsImxheW91dCIsImdyaWQiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiYXBwZW5kQ2hpbGQiLCJyZW5kQ2FudiIsImFkZEV2ZW50TGlzdGVuZXIiLCJob2xkZXIiLCJmb3JFYWNoIiwiaW5kZXgiLCJzaGFwZUNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJzdWJzZXQiLCJpZCIsImRpc3BsYXkiLCJjbGFzc0xp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