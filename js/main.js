import{renderSvg as d}from"./renderer.js";import{configureLayout as g,rotateTransform as h,shearTransform as I,scaleTransform as V}from"./layout.js";import{makeGrid as v}from"./grid.js";import*as E from"./subset.js";import*as F from"./hex.js";const q="hg",C=["line","ring","hexagon","cone","rhombbus"],z="shapes",B=g({x:5,y:5},{x:45,y:45},{x:90,y:90}),S=v({size:5}),$=F.makeNode({q:1,r:-1,s:0},"Cell"),j={q:-2,r:4,s:-2},k=[E.line({source:$,toward:j}),E.ring({source:$,size:3}),E.hexagon({source:$,size:3}),E.cone({source:$,toward:j,size:4}),E.rhombus({source:$,toward:j,size:3})];export const renderContext=document.getElementById("hg"),inputs=document.querySelector('form[id="params"]'),getFloatValue=e=>{const t=document.getElementById(e);return parseFloat(t.value)},getIntValue=e=>{const t=document.getElementById(e);return parseInt(t.value,10)},getRadioValue=e=>document.querySelector(`input[name="${e}"]:checked`).value,getStringValue=e=>document.getElementById(e).value,getForm=()=>{return["hg",g({x:1,y:1},{x:getIntValue("orx"),y:getIntValue("ory")},{x:getIntValue("csx"),y:getIntValue("csy")},[h(getFloatValue("orientation")*Math.PI/12),I(getFloatValue("shx"),getFloatValue("shy")),V(getIntValue("hsx"),getIntValue("hsy"))]),v({shape:(e="shape",document.querySelector(`input[name="${e}"]:checked`).value),size:{a:getIntValue("gs1"),b:getIntValue("gs2")},populate:!0})];var t},rend=()=>{const e=["hg",g({x:1,y:1},{x:getIntValue("orx"),y:getIntValue("ory")},{x:getIntValue("csx"),y:getIntValue("csy")},[h(getFloatValue("orientation")*Math.PI/12),I(getFloatValue("shx"),getFloatValue("shy")),V(getIntValue("hsx"),getIntValue("hsy"))]),v({shape:(t="shape",document.querySelector(`input[name="${t}"]:checked`).value),size:{a:getIntValue("gs1"),b:getIntValue("gs2")},populate:!0})];var t;let n;var a;for(document.getElementById("shapes").style.width=(a="csx",document.getElementById(a).value)+"px";n=renderContext.lastChild;)renderContext.removeChild(n);d(...e)};document.addEventListener("DOMContentLoaded",()=>{rend();const e=document.getElementById("shapes");C.forEach((t,n)=>{const a=document.createElement("div"),o=k[n];a.id=t,a.style.display="inline-block",e.appendChild(a),d(t,B,S);a.querySelector(`[data-hex-node-id="${$.id}"]`).classList.add("source"),o.forEach(e=>{const n=document.querySelector(`#${t} [data-hex-node-id="${e.id}"]`);n&&n.classList.add("hilit")})})}),inputs.addEventListener("input",rend);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbInJlbmRlclN2ZyIsImNvbmZpZ3VyZUxheW91dCIsInJvdGF0ZVRyYW5zZm9ybSIsInNoZWFyVHJhbnNmb3JtIiwic2NhbGVUcmFuc2Zvcm0iLCJtYWtlR3JpZCIsIlN1YnNldCIsIkhleCIsImdyaWRUYXJnZXQiLCJzaGFwZXMiLCJzaGFwZXNIb2xkZXIiLCJzaGFwZUxheW91dENvbmZpZyIsIngiLCJ5Iiwic2hhcGVHcmlkIiwic2l6ZSIsInNvdXJjZSIsIm1ha2VOb2RlIiwicSIsInIiLCJzIiwidG93YXJkIiwic3Vic2V0cyIsImxpbmUiLCJyaW5nIiwiaGV4YWdvbiIsImNvbmUiLCJyaG9tYnVzIiwicmVuZGVyQ29udGV4dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RmxvYXRWYWx1ZSIsImVsZW1lbnRJZCIsImlucHV0IiwicGFyc2VGbG9hdCIsInZhbHVlIiwiZ2V0SW50VmFsdWUiLCJwYXJzZUludCIsImdldFJhZGlvVmFsdWUiLCJlbGVtZW50TmFtZSIsImdldFN0cmluZ1ZhbHVlIiwiZ2V0Rm9ybSIsIk1hdGgiLCJQSSIsInNoYXBlIiwiYSIsImIiLCJwb3B1bGF0ZSIsInJlbmQiLCJjb25maWciLCJsYXN0Iiwic3R5bGUiLCJ3aWR0aCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhvbGRlciIsImZvckVhY2giLCJpbmRleCIsInNoYXBlQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsInN1YnNldCIsImlkIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiYWRkIiwiZSIsImNlbGwiXSwibWFwcGluZ3MiOiJvQkFLU0EsTUFBaUIsMENBR3hCQyxxQkFDQUMsb0JBQ0FDLG9CQUNBQyxNQUNLLGlDQUNzQkMsTUFBZ0Isc0JBQ2pDQyxNQUFZLHdCQUNaQyxNQUFTLFdBUXJCLE1B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