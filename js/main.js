import{buildCanvas as e,renderCanvasFrame as t,renderSvg as n}from"./renderer.js";import{configureLayout as o,rotateTransform as a,shearTransform as r,scaleTransform as s,pointToCube as d}from"./layout.js";import{makeGrid as u}from"./grid.js";import*as l from"./subset.js";import*as c from"./hex.js";const g="svghg",i="canvhg",m=["line","ring","hexagon","cone","rhombbus"],h="shapes",p=o({x:45,y:45},{x:90,y:90},[s(5,5)]),y=u({size:5}),v=c.makeNode({q:1,r:-1,s:0},"Cell"),x={q:-2,r:4,s:-2},I=[l.line({source:v,toward:x}),l.ring({source:v,size:3}),l.hexagon({source:v,size:3}),l.cone({source:v,toward:x,size:4}),l.rhombus({source:v,toward:x,size:3})],f=document.getElementById("svghg"),E=document.getElementById("st");export const inputs=document.querySelector('form[id="params"]'),getFloatValue=e=>{const t=document.getElementById(e);return parseFloat(t.value)},getIntValue=e=>{const t=document.getElementById(e);return parseInt(t.value,10)},getRadioValue=e=>document.querySelector(`input[name="${e}"]:checked`).value,getStringValue=e=>document.getElementById(e).value,getForm=()=>{return[o({x:getIntValue("orx"),y:getIntValue("ory")},{x:getIntValue("csx"),y:getIntValue("csy")},[a(getFloatValue("orientation")*Math.PI/12),r(getFloatValue("shx"),getFloatValue("shy")),s(getIntValue("hsx"),getIntValue("hsy"))]),u({shape:(e="shape",document.querySelector(`input[name="${e}"]:checked`).value),size:{a:getIntValue("gs1"),b:getIntValue("gs2")},populate:!0})];var e},rendSvg=()=>{const e=getForm();let t;var o;for(document.getElementById("shapes").style.width=`${o="csx",document.getElementById(o).value}px`;t=f.lastChild;)f.removeChild(t);n("svghg",...e)},makeCanv=()=>{const[n,o]=getForm(),a=e("canvhg",n),r=a.getContext("2d");return document.getElementById("canvhg").appendChild(a),t(r,n,o),r},rendCanv=e=>{t(e,...getForm())};let V;document.addEventListener("DOMContentLoaded",(()=>{rendSvg(),V=makeCanv(),rendCanv(V);const e=document.getElementById("shapes");m.forEach(((t,o)=>{const a=document.createElement("div"),r=I[o];a.id=t,a.style.display="inline-block",e.appendChild(a),n(t,p,y);a.querySelector(`[data-hex-node-id="${v.id}"]`).classList.add("source"),r.forEach((e=>{const n=document.querySelector(`#${t} [data-hex-node-id="${e.id}"]`);n&&n.classList.add("hilit")}))}))})),inputs.addEventListener("input",(()=>{rendSvg(),rendCanv(V)})),f.addEventListener("mouseup",(e=>{if(!e.target.matches(".cell"))return;const[t]=getForm(),n=d({x:e.offsetX,y:e.offsetY},t),o=e.target.getAttribute("data-hex-node-id");E.innerText=`pointToCube ${JSON.stringify(n)}\n  ${o}\n  `}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLnRzIl0sIm5hbWVzIjpbImJ1aWxkQ2FudmFzIiwicmVuZGVyQ2FudmFzRnJhbWUiLCJyZW5kZXJTdmciLCJjb25maWd1cmVMYXlvdXQiLCJyb3RhdGVUcmFuc2Zvcm0iLCJzaGVhclRyYW5zZm9ybSIsInNjYWxlVHJhbnNmb3JtIiwicG9pbnRUb0N1YmUiLCJtYWtlR3JpZCIsIlN1YnNldCIsIkhleCIsInN2Z0dyaWRUYXJnZXQiLCJjYW52YXNHcmlkVGFyZ2V0Iiwic2hhcGVzIiwic2hhcGVzSG9sZGVyIiwic2hhcGVMYXlvdXRDb25maWciLCJ4IiwieSIsInNoYXBlR3JpZCIsInNpemUiLCJzb3VyY2UiLCJtYWtlTm9kZSIsInEiLCJyIiwicyIsInRvd2FyZCIsInN1YnNldHMiLCJsaW5lIiwicmluZyIsImhleGFnb24iLCJjb25lIiwicmhvbWJ1cyIsInN2Z1JlbmRlckNvbnRleHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3QiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RmxvYXRWYWx1ZSIsImVsZW1lbnRJZCIsImlucHV0IiwicGFyc2VGbG9hdCIsInZhbHVlIiwiZ2V0SW50VmFsdWUiLCJwYXJzZUludCIsImdldFJhZGlvVmFsdWUiLCJlbGVtZW50TmFtZSIsImdldFN0cmluZ1ZhbHVlIiwiZ2V0Rm9ybSIsIk1hdGgiLCJQSSIsInNoYXBlIiwiYSIsImIiLCJwb3B1bGF0ZSIsInJlbmRTdmciLCJjb25maWciLCJsYXN0Iiwic3R5bGUiLCJ3aWR0aCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibWFrZUNhbnYiLCJsYXlvdXQiLCJncmlkIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImFwcGVuZENoaWxkIiwicmVuZENhbnYiLCJhZGRFdmVudExpc3RlbmVyIiwiaG9sZGVyIiwiZm9yRWFjaCIsImluZGV4Iiwic2hhcGVDb250YWluZXIiLCJjcmVhdGVFbGVtZW50Iiwic3Vic2V0IiwiaWQiLCJkaXNwbGF5IiwiY2xhc3NMaXN0IiwiYWRkIiwiZSIsImNlbGwiLCJldiIsInRhcmdldCIsIm1hdGNoZXMiLCJwdGMiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdldEF0dHJpYnV0ZSIsImlubmVyVGV4dCIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJzQkFNU0EsdUJBQWFDLGVBQW1CQyxNQUFpQiwwQ0FHeERDLHFCQUNBQyxvQkFDQUMsb0JBQ0FDLGlCQUNBQyxNQUNLLGlDQUNzQkMsTUFBZ0Isc0JBQ2pDQyxNQUFZLHdCQUNaQyxNQUFTLFdBUXJCLE1BQU1DLEVBQWdCLFFBQ3BCQyxFQUFtQixTQUNuQkMsRUFBUyxDQUFDLE9BQVEsT0FBUSxVQUFXLE9BQVEsWUFDN0NDLEVBQWUsU0FDZkMsRUFBa0NaLEVBQ2hDLENBQUVhLEVBQUcsR0FBSUMsRUFBRyxJQUNaLENBQUVELEVBQUcsR0FBSUMsRUFBRyxJQUNaLENBQUNYLEVBQWUsRUFBRyxLQUVyQlksRUFBcUJWLEVBQVMsQ0FBRVcsS0FBTSxJQUN0Q0MsRUFBU1YsRUFBSVcsU0FBUyxDQUFFQyxFQUFHLEVBQUdDLEdBQUksRUFBR0MsRUFBRyxHQUFLLFFBQzdDQyxFQUFTLENBQUVILEdBQUksRUFBR0MsRUFBRyxFQUFHQyxHQUFJLEdBQzVCRSxFQUFVLENBQ1JqQixFQUFPa0IsS0FBSyxDQUFFUCxPQUFBQSxFQUFRSyxPQUFBQSxJQUN0QmhCLEVBQU9tQixLQUFLLENBQUVSLE9BQUFBLEVBQVFELEtBQU0sSUFDNUJWLEVBQU9vQixRQUFRLENBQUVULE9BQUFBLEVBQVFELEtBQU0sSUFDL0JWLEVBQU9xQixLQUFLLENBQUVWLE9BQUFBLEVBQVFLLE9BQUFBLEVBQVFOLEtBQU0sSUFDcENWLEVBQU9zQixRQUFRLENBQUVYLE9BQUFBLEVBQVFLLE9BQUFBLEVBQVFOLEtBQU0sS0FFekNhLEVBQW1CQyxTQUFTQyxlQW5CUixTQW9CcEJDLEVBQUtGLFNBQVNDLGVBQWUsYUFDeEIsTUFBTUUsT0FBU0gsU0FBU0ksY0FDM0IscUJBRUZDLGNB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