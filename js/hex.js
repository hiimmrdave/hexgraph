import{thousandthRound as u}from"./math.js";export const DIRECTIONS=[{q:1,r:-1,s:0},{q:0,r:-1,s:1},{q:-1,r:0,s:1},{q:-1,r:1,s:0},{q:0,r:1,s:-1},{q:1,r:0,s:-1}];export const DIAGONALS=[{q:2,r:-1,s:-1},{q:1,r:-2,s:1},{q:-1,r:-1,s:2},{q:-2,r:1,s:1},{q:-1,r:2,s:-1},{q:1,r:1,s:-2}];export function makeNode({q:e,r:r,s:t},s){if(e+r+t>.001)throw new TypeError("q+r+s must sum to zero");const n={q:e,r:r,s:t,id:`${u(e)},${u(r)},${u(t)}`,links:new WeakSet,kind:s};return n}export function cells(e){switch(e.kind){case"Cell":return DIRECTIONS.map((r=>makeNode(add(e,r),"Cell")));case"Edge":return DIRECTIONS.map((r=>makeNode(add(e,multiply(r,.5)),"Cell"))).filter((e=>Number.isInteger(e.q)&&Number.isInteger(e.r)&&Number.isInteger(e.s)));case"Vertex":return DIAGONALS.map((r=>makeNode(add(e,multiply(r,1/3)),"Cell"))).filter((e=>Number.isInteger(e.q)&&Number.isInteger(e.r)&&Number.isInteger(e.s)))}}export function edges(e){switch(e.kind){case"Cell":return DIRECTIONS.map((r=>makeNode(add(multiply(r,.5),e),"Edge")));case"Edge":return DIRECTIONS.map((r=>makeNode(add(e,multiply(r,.5)),"Edge"))).filter((e=>!(Number.isInteger(e.q)&&Number.isInteger(e.r)&&Number.isInteger(e.s))));case"Vertex":return DIAGONALS.map((r=>makeNode(add(e,multiply(r,1/6)),"Edge"))).filter((e=>Number.isInteger(2*e.q)&&Number.isInteger(2*e.r)&&Number.isInteger(2*e.s)))}}export function wideEdges(e){return DIRECTIONS.map((r=>makeNode(add(multiply(r,3),e),"Edge")))}export function vertices(e){switch(e.kind){case"Cell":return DIAGONALS.map((r=>makeNode(add(e,multiply(r,1/3)),"Vertex")));case"Edge":return DIAGONALS.map((r=>makeNode(add(e,multiply(r,1/6)),"Vertex"))).filter((e=>Number.isInteger(3*e.q)&&Number.isInteger(3*e.r)&&Number.isInteger(3*e.s)));case"Vertex":return DIAGONALS.map((r=>makeNode(add(e,multiply(r,1/3)),"Vertex"))).filter((e=>!(Number.isInteger(e.q)&&Number.isInteger(e.r)&&Number.isInteger(e.s))))}}export function wideVertices(e){return DIAGONALS.map((r=>makeNode(add(e,multiply(r,2)),"Vertex")))}export function areEqual(e,r){return e.q===r.q&&e.r===r.r&&e.s===r.s}export function add(e,r){return{q:e.q+r.q,r:e.r+r.r,s:e.s+r.s}}export function subtract(e,r){return{q:e.q-r.q,r:e.r-r.r,s:e.s-r.s}}export function multiply(e,r){return{q:e.q*r,r:e.r*r,s:e.s*r}}export function length({q:e,r:r,s:t}){return Math.max(Math.abs(e),Math.abs(r),Math.abs(t))}export function distance(e,r){return length(subtract(e,r))}export function isWideVertext({q:e,r:r,s:t}){return e%2==0&&r%2==0&&t%2==0&&!(e%6==0&&r%6==0&&t%6==0)}export function isWideEdge({q:e,r:r,s:t}){return e%3==0&&r%3==0&&t%3==0&&!(e%6==0&&r%6==0&&t%6==0)}export function isWideCell({q:e,r:r,s:t}){return e%6==0&&r%6==0&&t%6==0}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0aG91c2FuZHRoUm91bmQiLCJESVJFQ1RJT05TIiwicSIsInIiLCJzIiwiRElBR09OQUxTIiwibWFrZU5vZGUiLCJraW5kIiwiVHlwZUVycm9yIiwicmVzdWx0IiwiaWQiLCJsaW5rcyIsIldlYWtTZXQiLCJjZWxscyIsIm5vZGUiLCJtYXAiLCJlIiwiYWRkIiwibXVsdGlwbHkiLCJmaWx0ZXIiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJlZGdlcyIsIndpZGVFZGdlcyIsImNlbGwiLCJ2ZXJ0aWNlcyIsIndpZGVWZXJ0aWNlcyIsImFyZUVxdWFsIiwiYSIsImIiLCJzdWJ0cmFjdCIsImsiLCJsZW5ndGgiLCJNYXRoIiwibWF4IiwiYWJzIiwiZGlzdGFuY2UiLCJpc1dpZGVWZXJ0ZXh0IiwiaXNXaWRlRWRnZSIsImlzV2lkZUNlbGwiXSwic291cmNlcyI6WyIuLi9zcmMvaGV4LnRzIl0sIm1hcHBpbmdzIjoiMEJBSVNBLE1BQXVCLG1CQXVEekIsTUFBTUMsV0FBMEIsQ0FDckMsQ0FBRUMsRUFBRyxFQUFHQyxHQUFJLEVBQUdDLEVBQUcsR0FDbEIsQ0FBRUYsRUFBRyxFQUFHQyxHQUFJLEVBQUdDLEVBQUcsR0FDbEIsQ0FBRUYsR0FBSSxFQUFHQyxFQUFHLEVBQUdDLEVBQUcsR0FDbEIsQ0FBRUYsR0FBSSxFQUFHQyxFQUFHLEVBQUdDLEVBQUcsR0FDbEIsQ0FBRUYsRUFBRyxFQUFHQyxFQUFHLEVBQUdDLEdBQUksR0FDbEIsQ0FBRUYsRUFBRyxFQUFHQyxFQUFHLEVBQUdDLEdBQUksV0FLYixNQUFNQyxVQUF5QixDQUNwQyxDQUFFSCxFQUFHLEVBQUdDLEdBQUksRUFBR0MsR0FBSSxHQUNuQixDQUFFRixFQUFHLEVBQUdDLEdBQUksRUFBR0MsRUFBRyxHQUNsQixDQUFFRixHQUFJLEVBQUdDLEdBQUksRUFBR0MsRUFBRyxHQUNuQixDQUFFRixHQUFJLEVBQUdDLEVBQUcsRUFBR0MsRUFBRyxHQUNsQixDQUFFRixHQUFJLEVBQUdDLEVBQUcsRUFBR0MsR0FBSSxH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