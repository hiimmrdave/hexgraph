import{vertices as e,edges as n,makeNode as r,wideEdges as o,wideVertices as i}from"./hex.js";export function makeTwoSize(e){return"number"==typeof e?[e,e]:e}export function makeGrid({shape:e="Hexagon",size:n=[3,1],populate:t=!0}={}){return t?{Hexagon:l,Triangle:d,Star:f,Parallelogram:p,Rectangle:c}[e]({size:n}):new Map}function s(t=new Map,a,o,i=-a-o){const s=new Map(t),l=r({q:a,r:o,s:i},"Cell");return s.set(l.id,l),e(l).forEach((e=>{l.links.add(e),e.links.add(l),s.set(e.id,e)})),n(l).forEach((e=>{l.links.add(e),e.links.add(l),s.set(e.id,e)})),s}function l({size:e,grid:n}){const[t]=makeTwoSize(e);let r=n?new Map(n):new Map;for(let e=-t;e<=t;e++)for(let n=-t;n<=t;n++)Math.abs(e)+Math.abs(n)+Math.abs(-e-n)<2*t&&(r=s(r,e,n));return r}function d({size:e,grid:n}){const[t]=makeTwoSize(e);let r=n?new Map(n):new Map;for(let e=0;e<t;e++)for(let n=0;n<t-e;n++)r=s(r,e,n);return r}function f({size:e,grid:n}){const[t]=makeTwoSize(e);let r=n?new Map(n):new Map;for(let e=1-t;e<t;e++)for(let n=1-t;n<t;n++){const t=-e-n;r=s(r,e,n),r=s(r,t,n),r=s(r,e,t)}return r}function p({size:e,grid:n}){const[t,r]=makeTwoSize(e);let a=n?new Map(n):new Map;for(let e=0;e<t;e++)for(let n=0;n<r;n++)a=s(a,e,n);return a}function c({size:e,grid:n}){const[t,r]=makeTwoSize(e);let a=n?new Map(n):new Map;for(let e=0;e<t;e++){const n=Math.floor(e/2);for(let t=-n;t<r-n;t++)a=s(a,e,t)}return a}export function wideGridPush(e=new Map,n,t,a=-n-t){const s=new Map(e),l=r({q:n,r:t,s:a},"Cell");return s.set(l.id,l),i(l).forEach((e=>{l.links.add(e),e.links.add(l),s.set(e.id,e)})),o(l).forEach((e=>{l.links.add(e),e.links.add(l),s.set(e.id,e)})),s}export function populateWideGrid(e){let n=new Map;return e.forEach((e=>{"Cell"===e.kind&&(n=wideGridPush(n,6*e.q,6*e.r))})),n}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2ZXJ0aWNlcyIsImVkZ2VzIiwibWFrZU5vZGUiLCJ3aWRlRWRnZXMiLCJ3aWRlVmVydGljZXMiLCJtYWtlVHdvU2l6ZSIsInNpemUiLCJtYWtlR3JpZCIsInNoYXBlIiwicG9wdWxhdGUiLCJIZXhhZ29uIiwicG9wdWxhdGVIZXhhZ29uR3JpZCIsIlRyaWFuZ2xlIiwicG9wdWxhdGVUcmlhbmdsZUdyaWQiLCJTdGFyIiwicG9wdWxhdGVTdGFyR3JpZCIsIlBhcmFsbGVsb2dyYW0iLCJwb3B1bGF0ZVBhcmFsbGVsb2dyYW1HcmlkIiwiUmVjdGFuZ2xlIiwicG9wdWxhdGVSZWN0YW5nbGVHcmlkIiwiTWFwIiwiZ3JpZFB1c2giLCJncmlkIiwicSIsInIiLCJzIiwiY2VsbHNldCIsImNlbGwiLCJzZXQiLCJpZCIsImZvckVhY2giLCJ2ZXJ0ZXgiLCJsaW5rcyIsImFkZCIsImVkZ2UiLCJ4IiwiaWEiLCJpYiIsIk1hdGgiLCJhYnMiLCJpYyIsInkiLCJvZmYiLCJmbG9vciIsIndpZGVHcmlkUHVzaCIsInBvcHVsYXRlV2lkZUdyaWQiLCJub2Rlc2V0Iiwibm9kZSIsImtpbmQiXSwic291cmNlcyI6WyIuLi9zcmMvZ3JpZC50cyJdLCJtYXBwaW5ncyI6Im1CQUc0QkEsV0FBVUMsY0FBT0MsZUFBVUMsa0JBQVdDLE1BQW9CLGtCQWtCaEYsU0FBVUMsWUFBWUMsR0FDMUIsTUFBb0IsaUJBQVRBLEVBQ0YsQ0FBQ0EsRUFBTUEsR0FFVEEsQ0FDVCxRQVVNLFNBQVVDLFVBQVNDLE1BQ3ZCQSxFQUFRLFVBQVNGLEtBQ2pCQSxFQUFPLENBQUMsRUFBRyxHQUFFRyxTQUNiQSxHQUFXLEdBS1QsSUFRRixPQUFJQSxFQVBvRCxDQUN0REMsUUFBU0MsRUFDVEMsU0FBVUMsRUFDVkMsS0FBTUMsRUFDTkMsY0FBZUMsRUFDZkMsVUFBV0MsR0FHVVgsR0FBTyxDQUFFRixTQUV6QixJQUFJYyxHQUNiLENBU0EsU0FBU0MsRUFBU0MsRUFBZ0IsSUFBSUYsSUFBT0csRUFBV0MsRUFBV0Ms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