import{SQRT_THREE as c,thousandthRound as u}from"./math.js";import{vertices as e}from"./hex.js";const x=[[1.5,0],[c/2,c]],T=[[1,0],[0,1]];export function rotateTransform(o){return[[Math.cos(o)+0,0-Math.sin(o)],[Math.sin(o)+0,Math.cos(o)+0]]}export function shearTransform(o,n){return[[1,-o],[-n,1]]}export function scaleTransform(o,n){return[[-o,0],[0,-n]]}function m([[o,n],[r,t]]){return[[t/(o*t-n*r),n/(n*r-o*r)],[r/(n*r-o*r),o/(o*t-n*r)]]}function y([[o,n],[r,t]],[[e,u],[i,c]]){return[[o*e+n*i,o*u+n*c],[r*e+t*i,r*u+t*c]]}function b(o){return o.reduce((o,n)=>y(n,o),T)}export function configureLayout(o,n,r,t=[]){const e=b([x,...t]);return{radius:o,origin:n,size:r,cubeToPoint:e,pointToCube:m(e)}}export function cubeToPoint(o,{radius:n,origin:r,cubeToPoint:t}){return{x:u(t[0][0]*o.q+t[0][1]*o.r)*n.x+r.x,y:u(t[1][0]*o.q+t[1][1]*o.r)*n.y+r.y}}export function pointToCube(o,{radius:n,origin:r,pointToCube:t}){const e=(o.x-r.x)/n.x,u=(o.y-r.y)/n.y,i=t[0][0]*e+t[0][1]*u,c=t[1][0]*e+t[1][1]*u;return{q:i,r:c,s:-i-c}}export function cellPoints({cell:o,layout:n}){return e(o).map(o=>cubeToPoint(o,n))}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sYXlvdXQudHMiXSwibmFtZXMiOlsiU1FSVF9USFJFRSIsInRob3VzYW5kdGhSb3VuZCIsInZlcnRpY2VzIiwiUVJYWSIsIklkZW50aXR5MngyIiwicm90YXRlVHJhbnNmb3JtIiwidGhldGEiLCJNYXRoIiwiY29zIiwic2luIiwic2hlYXJUcmFuc2Zvcm0iLCJzaGVhclgiLCJzaGVhclkiLCJzY2FsZVRyYW5zZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsImludmVydE1hdHJpeDJ4MiIsImEiLCJiIiwiYyIsImQiLCJjb21wb3NlTWF0cmljZXMyeDIiLCJlIiwiZiIsImciLCJoIiwiY29tcG9zZU1hdHJpeEFycmF5IiwibWF0cmljZXMiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjb25maWd1cmVMYXlvdXQiLCJyYWRpdXMiLCJvcmlnaW4iLCJzaXplIiwidHJhbnNmb3JtcyIsImN1YmVUb1BvaW50IiwicG9pbnRUb0N1YmUiLCJNIiwieCIsInEiLCJyIiwieSIsInAiLCJwdCIsInMiLCJjZWxsUG9pbnRzIiwiY2VsbCIsImxheW91dCIsIm1hcCIsInZlcnRleCJdLCJtYXBwaW5ncyI6InFCQUdTQSxxQkFBWUMsTUFBdUIsK0JBQ2RDLE1BQWdCLFdBeUI5QyxNQUFNQyxFQUFrQixDQUNwQixDQUFDLElBQU8sR0FDUixDQUFDSCxFQUFhLEVBQUdBLElBTW5CSSxFQUF5QixDQUN2QixDQUFDLEVBQUcsR0FDSixDQUFDLEVBQUcsV0FHRixTQUFVQyxnQkFBZ0JDLEdBQzlCLE1BQU8sQ0FDTCxDQUFDQyxLQUFLQyxJQUFJRixHQUFTLEVBQXNCLEVBQWxCQyxLQUFLRSxJQUFJSCxJQUNoQyxDQUFDQyxLQUFLRSxJQUFJSCxHQUFTLEVBQUdDLEtBQUtDLElBQUlGLEdBQVMsV0FJdEMsU0FBVUksZUFBZUMsRUFBZ0JDLEdBQzdDLE1BQU8sQ0FDTCxDQUFDLEdBQUlELEdBQ0wsRUFBRUMsRUFBUSxXQUlSLFNBQVVDLGVBQWVDLEVBQWdCQyxHQUM3QyxNQUFPLENBQ0wsRUFBRUQsRUFBUSxHQUNWLENBQUMsR0FBSUMsSUFJVCxTQUFTQyxJQUFrQkMsRUFBR0MsSUFBS0MsRUFBR0MsS0FDcEMsTUFBTyxDQUNMLENBQUNBLEdBQUtILEVBQUlHLEVBQUlGLEVBQUlDLEdBQUlELEdBQUtBLEVBQUlDLEVBQUlGLEVBQUlFLElBQ3ZDLENBQUNBLEdBQUtELEVBQUlDLEVBQUlGLEVBQUlFLEdBQUlGLEdBQUtBLEVBQUlHLEVBQUlGLEVBQUlDLEtBSTNDLFNBQVNFLElBQ0xKLEVBQUdDLElBQUtDLEVBQUdDLE1BQ1hFLEVBQUdDLElBQUtDLEVBQUdDLEtBRWIsTUFBTyxDQUNMLENBQUNSLEVBQUlLLEVBQUlKLEVBQUlNLEVBQUdQLEVBQUlNLEVBQUlMLEVBQUlPLEdBQzVCLENBQUNOLEVBQUlHLEVBQUlGLEVBQUlJLEVBQUdMLEVBQUlJLEVBQUlILEVBQUlLLElBSWhDLFNBQVNDLEVBQW1CQyxHQUMxQixPQUFPQSxFQUFTQyxPQUNkLENBQUNDLEVBQUtDLElBQVFULEVBQW1CUyxFQUFLRCxHQUN0Q3pCLFVBSUUsU0FBVTJCLGdCQUNkQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUEwQixJQUUxQixNQUFNQyxFQUFjVixFQUFtQixDQUFDdkIsS0FBU2dDLElBRWpELE1BQU8sQ0FDTEgsT0FBQUEsRUFDQUMsT0FBQUEsRUFDQUMsS0FBQUEsRUFDQUUsWUFBQUEsRUFDQUMsWUFOY3JCLEVBQWdCb0IsV0FVNUIsU0FBVUEsWUFDZGpCLEdBQ0FhLE9BQUVBLEVBQU1DLE9BQUVBLEVBQVFHLFlBQWFFLElBSy9CLE1BQU8sQ0FBRUMsRUFGTHRDLEVBQWdCcUMsRUFBRSxHQUFHLEdBQUtuQixFQUFFcUIsRUFBSUYsRUFBRSxHQUFHLEdBQUtuQixFQUFFc0IsR0FBS1QsRUFBT08sRUFBSU4sRUFBT00sRUFFM0RHLEVBRE56QyxFQUFnQnFDLEVBQUUsR0FBRyxHQUFLbkIsRUFBRXFCLEVBQUlGLEVBQUUsR0FBRyxHQUFLbkIsRUFBRXNCLEdBQUtULEVBQU9VLEVBQUlULEVBQU9TLFVBSXJFLFNBQVVMLFlBQ2RNLEdBQ0FYLE9BQUVBLEVBQU1DLE9BQUVBLEVBQVFJLFlBQWFDLElBRS9CLE1BQU1NLEdBQ0VELEVBQUVKLEVBQUlOLEVBQU9NLEdBQUtQLEVBQU9PLEVBRDNCSyxHQUVFRCxFQUFFRCxFQUFJVCxFQUFPUyxHQUFLVixFQUFPVSxFQUUvQkYsRUFBSUYsRUFBRSxHQUFHLEdBQUtNLEVBQU9OLEVBQUUsR0FBRyxHQUFLTSxFQUMvQkgsRUFBSUgsRUFBRSxHQUFHLEdBQUtNLEVBQU9OLEVBQUUsR0FBRyxHQUFLTSxFQUVqQyxNQUFPLENBQUVKLEVBQUFBLEVBQUdDLEVBQUFBLEVBQUdJLEdBRFJMLEVBQUlDLFVBSVAsU0FBVUssWUFBV0MsS0FDekJBLEVBQUlDLE9BQ0pBLElBS0EsT0FBTzlDLEVBQVM2QyxHQUFNRSxJQUFLQyxHQUFXZCxZQUFZYyxFQUFRRiJ9