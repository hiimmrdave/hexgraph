import{SQRT_THREE as o,thousandthRound as n}from"./math.js";import{vertices as t}from"./hex.js";const r=[[1.5,0],[o/2,o]],e=[[1,0],[0,1]],u=[[1/6,0],[0,1/6]];export function rotateTransform(o){return[[Math.cos(o)+0,0-Math.sin(o)],[Math.sin(o)+0,Math.cos(o)+0]]}export function shearTransform(o,n){return[[1,-o],[-n,1]]}export function scaleTransform(o,n){return[[o,0],[0,n]]}function i([[o,n],[t,r]]){return[[r/(o*r-n*t),n/(n*t-o*r)],[t/(n*t-o*r),o/(o*r-n*t)]]}function c([[o,n],[t,r]],[[e,u],[i,c]]){return[[o*e+n*i,o*u+n*c],[t*e+r*i,t*u+r*c]]}function s(o){return o.reduce(((o,n)=>c(n,o)),e)}export function configureLayout(o,n,t=[]){const e=s([r,u,...t]);return{origin:o,size:n,cubeToPoint:e,pointToCube:i(e)}}export function cubeToPoint(o,{origin:t,cubeToPoint:r}){return{x:n(r[0][0]*o.q+r[0][1]*o.r+t.x),y:n(r[1][0]*o.q+r[1][1]*o.r+t.y)}}export function pointToCube(o,{origin:n,pointToCube:t}){const r=o.x-n.x,e=o.y-n.y,u=t[0][0]*r+t[0][1]*e,i=t[1][0]*r+t[1][1]*e;return{q:u,r:i,s:-u-i}}export function cellPoints({cell:o,layout:n}){return t(o).map((o=>cubeToPoint(o,n)))}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sYXlvdXQudHMiXSwibmFtZXMiOlsiU1FSVF9USFJFRSIsInRob3VzYW5kdGhSb3VuZCIsInZlcnRpY2VzIiwiUVJYWSIsIklERU5USVRZMiIsIlNJWFRIX1NDQUxFIiwicm90YXRlVHJhbnNmb3JtIiwidGhldGEiLCJNYXRoIiwiY29zIiwic2luIiwic2hlYXJUcmFuc2Zvcm0iLCJzaGVhclgiLCJzaGVhclkiLCJzY2FsZVRyYW5zZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsImludmVydE1hdHJpeDJ4MiIsImEiLCJiIiwiYyIsImQiLCJjb21wb3NlTWF0cmljZXMyeDIiLCJlIiwiZiIsImciLCJoIiwiY29tcG9zZU1hdHJpeEFycmF5IiwibWF0cmljZXMiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjb25maWd1cmVMYXlvdXQiLCJvcmlnaW4iLCJzaXplIiwidHJhbnNmb3JtcyIsImN1YmVUb1BvaW50IiwicG9pbnRUb0N1YmUiLCJNIiwieCIsInEiLCJyIiwieSIsInAiLCJwdCIsInMiLCJjZWxsUG9pbnRzIiwiY2VsbCIsImxheW91dCIsIm1hcCIsInZlcnRleCJdLCJtYXBwaW5ncyI6InFCQUdTQSxxQkFBWUMsTUFBdUIsK0JBQ2RDLE1BQWdCLFdBd0I5QyxNQUFNQyxFQUFrQixDQUNwQixDQUFDLElBQU8sR0FDUixDQUFDSCxFQUFhLEVBQUdBLElBRW5CSSxFQUF1QixDQUNyQixDQUFDLEVBQUcsR0FDSixDQUFDLEVBQUcsSUFFTkMsRUFBeUIsQ0FDdkIsQ0FBQyxFQUFJLEVBQUcsR0FDUixDQUFDLEVBQUcsRUFBSSxXQUdOLFNBQVVDLGdCQUFnQkMsR0FDOUIsTUFBTyxDQUNMLENBQUNDLEtBQUtDLElBQUlGLEdBQVMsRUFBc0IsRUFBbEJDLEtBQUtFLElBQUlILElBQ2hDLENBQUNDLEtBQUtFLElBQUlILEdBQVMsRUFBR0MsS0FBS0MsSUFBSUYsR0FBUyxXQUl0QyxTQUFVSSxlQUFlQyxFQUFnQkMsR0FDN0MsTUFBTyxDQUNMLENBQUMsR0FBSUQsR0FDTCxFQUFFQyxFQUFRLFdBSVIsU0FBVUMsZUFBZUMsRUFBZ0JDLEdBQzdDLE1BQU8sQ0FDTCxDQUFDRCxFQUFRLEdBQ1QsQ0FBQyxFQUFHQyxJQUlSLFNBQVNDLElBQWtCQyxFQUFHQyxJQUFLQyxFQUFHQyxLQUNwQyxNQUFPLENBQ0wsQ0FBQ0EsR0FBS0gsRUFBSUcsRUFBSUYsRUFBSUMsR0FBSUQsR0FBS0EsRUFBSUMsRUFBSUYsRUFBSUcsSUFDdkMsQ0FBQ0QsR0FBS0QsRUFBSUMsRUFBSUYsRUFBSUcsR0FBSUgsR0FBS0EsRUFBSUcsRUFBSUYsRUFBSUMsS0FJM0MsU0FBU0UsSUFDTEosRUFBR0MsSUFBS0MsRUFBR0MsTUFDWEUsRUFBR0MsSUFBS0MsRUFBR0MsS0FFYixNQUFPLENBQ0wsQ0FBQ1IsRUFBSUssRUFBSUosRUFBSU0sRUFBR1AsRUFBSU0sRUFBSUwsRUFBSU8sR0FDNUIsQ0FBQ04sRUFBSUcsRUFBSUYsRUFBSUksRUFBR0wsRUFBSUksRUFBSUgsRUFBSUssSUFJaEMsU0FBU0MsRUFBbUJDLEdBQzFCLE9BQU9BLEVBQVNDLFFBQU8sQ0FBQ0MsRUFBS0MsSUFBUVQsRUFBbUJTLEVBQUtELElBQU0xQixVQUcvRCxTQUFVNEIsZ0JBQ2RDLEVBQ0FDLEVBQ0FDLEVBQTBCLElBRTFCLE1BQU1DLEVBQWNULEVBQW1CLENBQUN4QixFQUFNRSxLQUFnQjhCLElBRTlELE1BQU8sQ0FDTEYsT0FBQUEsRUFDQUMsS0FBQUEsRUFDQUUsWUFBQUEsRUFDQUMsWUFMY3BCLEVBQWdCbUIsV0FTNUIsU0FBVUEsWUFDZGhCLEdBQ0FhLE9BQUVBLEVBQVFHLFlBQWFFLElBSXZCLE1BQU8sQ0FBRUMsRUFGQ3RDLEVBQWdCcUMsRUFBRSxHQUFHLEdBQUtsQixFQUFFb0IsRUFBSUYsRUFBRSxHQUFHLEdBQUtsQixFQUFFcUIsRUFBSVIsRUFBT00sR0FFckRHLEVBRE56QyxFQUFnQnFDLEVBQUUsR0FBRyxHQUFLbEIsRUFBRW9CLEVBQUlGLEVBQUUsR0FBRyxHQUFLbEIsRUFBRXFCLEVBQUlSLEVBQU9TLFdBSXpELFNBQVVMLFlBQ2RNLEdBQ0FWLE9BQUVBLEVBQVFJLFlBQWFDLElBRXZCLE1BQU1NLEVBQVVELEVBQUVKLEVBQUlOLEVBQU9NLEVBQXZCSyxFQUE2QkQsRUFBRUQsRUFBSVQsRUFBT1MsRUFDOUNGLEVBQUlGLEVBQUUsR0FBRyxHQUFLTSxFQUFPTixFQUFFLEdBQUcsR0FBS00sRUFDL0JILEVBQUlILEVBQUUsR0FBRyxHQUFLTSxFQUFPTixFQUFFLEdBQUcsR0FBS00sRUFFakMsTUFBTyxDQUFFSixFQUFBQSxFQUFHQyxFQUFBQSxFQUFHSSxHQURSTCxFQUFJQyxVQUlQLFNBQVVLLFlBQVdDLEtBQ3pCQSxFQUFJQyxPQUNKQSxJQUtBLE9BQU85QyxFQUFTNkMsR0FBTUUsS0FBS0MsR0FBV2QsWUFBWWMsRUFBUUYifQ==