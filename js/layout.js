import{SQRT_THREE as b,thousandthRound as N}from"./math.js";import{vertices as e}from"./hex.js";const T=[[1.5,0],[b/2,b]],P=[[1,0],[0,1]];export function rotate(o){return[[Math.cos(o)+0,0-Math.sin(o)],[Math.sin(o)+0,Math.cos(o)+0]]}function M([[o,t],[n,r]]){return[[r/(o*r-t*n),t/(t*n-o*n)],[n/(t*n-o*n),o/(o*r-t*n)]]}function C([[o,t],[n,r]],[[i,u],[e,c]]){return[[o*i+t*e,o*u+t*c],[n*i+r*e,n*u+r*c]]}function j(o){return o.reduce((o,t)=>C(o,t),P)}export function configureLayout(o,t,n,r=[]){const i=j([T,...r]);return{radius:o,origin:t,size:n,cubeToPoint:i,pointToCube:M(i)}}export function cubeToPoint(o,{radius:t,origin:n,cubeToPoint:r}){return{x:N(r[0][0]*o.q+r[0][1]*o.r)*t.x+n.x,y:N(r[1][0]*o.q+r[1][1]*o.r)*t.y+n.y}}export function pointToCube(o,{radius:t,origin:n,pointToCube:r}){const i=(o.x-n.x)/t.x,u=(o.y-n.y)/t.y,e=r[0][0]*i+r[0][1]*u,c=r[1][0]*i+r[1][1]*u;return{q:e,r:c,s:-e-c}}export function cellPoints({cell:o,layout:t}){return e(o).map(o=>cubeToPoint(o,t))}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sYXlvdXQudHMiXSwibmFtZXMiOlsiU1FSVF9USFJFRSIsInRob3VzYW5kdGhSb3VuZCIsInZlcnRpY2VzIiwiUVJYWSIsIklkZW50aXR5MngyIiwicm90YXRlIiwidGhldGEiLCJNYXRoIiwiY29zIiwic2luIiwiaW52ZXJ0TWF0cml4MngyIiwiYSIsImIiLCJjIiwiZCIsImNvbXBvc2VNYXRyaWNlczJ4MiIsImUiLCJmIiwiZyIsImgiLCJjb21wb3NlTWF0cml4QXJyYXkiLCJtYXRyaWNlcyIsInJlZHVjZSIsImFjYyIsImN1ciIsImNvbmZpZ3VyZUxheW91dCIsInJhZGl1cyIsIm9yaWdpbiIsInNpemUiLCJ0cmFuc2Zvcm1zIiwiY3ViZVRvUG9pbnQiLCJwb2ludFRvQ3ViZSIsIk0iLCJ4IiwicSIsInIiLCJ5IiwicCIsInB0IiwicyIsImNlbGxQb2ludHMiLCJjZWxsIiwibGF5b3V0IiwibWFwIiwidmVydGV4Il0sIm1hcHBpbmdzIjoicUJBR1NBLHFCQUFZQyxNQUF1QiwrQkFDZEMsTUFBZ0IsV0F5QjlDLE1BQU1DLEVBQWtCLENBQ3BCLENBQUMsSUFBTyxHQUNSLENBQUNILEVBQWEsRUFBR0EsSUFNbkJJLEVBQXlCLENBQ3ZCLENBQUMsRUFBRyxHQUNKLENBQUMsRUFBRyxXQUdGLFNBQVVDLE9BQU9DLEdBQ3JCLE1BQU8sQ0FDTCxDQUFDQyxLQUFLQyxJQUFJRixHQUFTLEVBQXNCLEVBQWxCQyxLQUFLRSxJQUFJSCxJQUNoQyxDQUFDQyxLQUFLRSxJQUFJSCxHQUFTLEVBQUdDLEtBQUtDLElBQUlGLEdBQVMsSUFJNUMsU0FBU0ksSUFBa0JDLEVBQUdDLElBQUtDLEVBQUdDLEtBQ3BDLE1BQU8sQ0FDTCxDQUFDQSxHQUFLSCxFQUFJRyxFQUFJRixFQUFJQyxHQUFJRCxHQUFLQSxFQUFJQyxFQUFJRixFQUFJRSxJQUN2QyxDQUFDQSxHQUFLRCxFQUFJQyxFQUFJRixFQUFJRSxHQUFJRixHQUFLQSxFQUFJRyxFQUFJRixFQUFJQyxLQUkzQyxTQUFTRSxJQUNMSixFQUFHQyxJQUFLQyxFQUFHQyxNQUNYRSxFQUFHQyxJQUFLQyxFQUFHQyxLQUViLE1BQU8sQ0FDTCxDQUFDUixFQUFJSyxFQUFJSixFQUFJTSxFQUFHUCxFQUFJTSxFQUFJTCxFQUFJTyxHQUM1QixDQUFDTixFQUFJRyxFQUFJRixFQUFJSSxFQUFHTCxFQUFJSSxFQUFJSCxFQUFJSyxJQUloQyxTQUFTQyxFQUFtQkMsR0FDMUIsT0FBT0EsRUFBU0MsT0FDZCxDQUFDQyxFQUFLQyxJQUFRVCxFQUFtQlEsRUFBS0MsR0FDdENwQixVQUlFLFNBQVVxQixnQkFDZEMsRUFDQUMsRUFDQUMsRUFDQUMsRUFBMEIsSUFFMUIsTUFBTUMsRUFBY1YsRUFBbUIsQ0FBQ2pCLEtBQVMwQixJQUVqRCxNQUFPLENBQ0xILE9BQUFBLEVBQ0FDLE9BQUFBLEVBQ0FDLEtBQUFBLEVBQ0FFLFlBQUFBLEVBQ0FDLFlBTmNyQixFQUFnQm9CLFdBVTVCLFNBQVVBLFlBQ2RqQixHQUNBYSxPQUFFQSxFQUFNQyxPQUFFQSxFQUFRRyxZQUFhRSxJQUsvQixNQUFPLENBQUVDLEVBRkxoQyxFQUFnQitCLEVBQUUsR0FBRyxHQUFLbkIsRUFBRXFCLEVBQUlGLEVBQUUsR0FBRyxHQUFLbkIsRUFBRXNCLEdBQUtULEVBQU9PLEVBQUlOLEVBQU9NLEVBRTNERyxFQURObkMsRUFBZ0IrQixFQUFFLEdBQUcsR0FBS25CLEVBQUVxQixFQUFJRixFQUFFLEdBQUcsR0FBS25CLEVBQUVzQixHQUFLVCxFQUFPVSxFQUFJVCxFQUFPUyxVQUlyRSxTQUFVTCxZQUNkTSxHQUNBWCxPQUFFQSxFQUFNQyxPQUFFQSxFQUFRSSxZQUFhQyxJQUUvQixNQUFNTSxHQUNFRCxFQUFFSixFQUFJTixFQUFPTSxHQUFLUCxFQUFPTyxFQUQzQkssR0FFRUQsRUFBRUQsRUFBSVQsRUFBT1MsR0FBS1YsRUFBT1UsRUFFL0JGLEVBQUlGLEVBQUUsR0FBRyxHQUFLTSxFQUFPTixFQUFFLEdBQUcsR0FBS00sRUFDL0JILEVBQUlILEVBQUUsR0FBRyxHQUFLTSxFQUFPTixFQUFFLEdBQUcsR0FBS00sRUFFakMsTUFBTyxDQUFFSixFQUFBQSxFQUFHQyxFQUFBQSxFQUFHSSxHQURSTCxFQUFJQyxVQUlQLFNBQVVLLFlBQVdDLEtBQ3pCQSxFQUFJQyxPQUNKQSxJQUtBLE9BQU94QyxFQUFTdUMsR0FBTUUsSUFBS0MsR0FBV2QsWUFBWWMsRUFBUUYifQ==