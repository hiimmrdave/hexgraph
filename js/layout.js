import{SQRT_THREE as o,thousandthRound as n}from"./math.js";import{vertices as t}from"./hex.js";const r=[[1.5,0],[o/2,o]],e=[[1,0],[0,1]];export function rotateTransform(o){return[[Math.cos(o)+0,0-Math.sin(o)],[Math.sin(o)+0,Math.cos(o)+0]]}export function shearTransform(o,n){return[[1,-o],[-n,1]]}export function scaleTransform(o,n){return[[-o,0],[0,-n]]}function u([[o,n],[t,r]]){return[[r/(o*r-n*t),n/(n*t-o*t)],[t/(n*t-o*t),o/(o*r-n*t)]]}function i([[o,n],[t,r]],[[e,u],[i,c]]){return[[o*e+n*i,o*u+n*c],[t*e+r*i,t*u+r*c]]}function c(o){return o.reduce(((o,n)=>i(n,o)),e)}export function configureLayout(o,n,t=[]){const e=c([r,...t]);return{origin:o,size:n,cubeToPoint:e,pointToCube:u(e)}}export function cubeToPoint(o,{origin:t,cubeToPoint:r}){return{x:n(r[0][0]*o.q+r[0][1]*o.r)+t.x,y:n(r[1][0]*o.q+r[1][1]*o.r)+t.y}}export function pointToCube(o,{origin:n,pointToCube:t}){const r=o.x-n.x,e=o.y-n.y,u=t[0][0]*r+t[0][1]*e,i=t[1][0]*r+t[1][1]*e;return{q:u,r:i,s:-u-i}}export function cellPoints({cell:o,layout:n}){return t(o).map((o=>cubeToPoint(o,n)))}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sYXlvdXQudHMiXSwibmFtZXMiOlsiU1FSVF9USFJFRSIsInRob3VzYW5kdGhSb3VuZCIsInZlcnRpY2VzIiwiUVJYWSIsIklkZW50aXR5MngyIiwicm90YXRlVHJhbnNmb3JtIiwidGhldGEiLCJNYXRoIiwiY29zIiwic2luIiwic2hlYXJUcmFuc2Zvcm0iLCJzaGVhclgiLCJzaGVhclkiLCJzY2FsZVRyYW5zZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsImludmVydE1hdHJpeDJ4MiIsImEiLCJiIiwiYyIsImQiLCJjb21wb3NlTWF0cmljZXMyeDIiLCJlIiwiZiIsImciLCJoIiwiY29tcG9zZU1hdHJpeEFycmF5IiwibWF0cmljZXMiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjb25maWd1cmVMYXlvdXQiLCJvcmlnaW4iLCJzaXplIiwidHJhbnNmb3JtcyIsImN1YmVUb1BvaW50IiwicG9pbnRUb0N1YmUiLCJNIiwieCIsInEiLCJyIiwieSIsInAiLCJwdCIsInMiLCJjZWxsUG9pbnRzIiwiY2VsbCIsImxheW91dCIsIm1hcCIsInZlcnRleCJdLCJtYXBwaW5ncyI6InFCQUdTQSxxQkFBWUMsTUFBdUIsK0JBQ2RDLE1BQWdCLFdBd0I5QyxNQUFNQyxFQUFrQixDQUNwQixDQUFDLElBQU8sR0FDUixDQUFDSCxFQUFhLEVBQUdBLElBTW5CSSxFQUF5QixDQUN2QixDQUFDLEVBQUcsR0FDSixDQUFDLEVBQUcsV0FHRixTQUFVQyxnQkFBZ0JDLEdBQzlCLE1BQU8sQ0FDTCxDQUFDQyxLQUFLQyxJQUFJRixHQUFTLEVBQXNCLEVBQWxCQyxLQUFLRSxJQUFJSCxJQUNoQyxDQUFDQyxLQUFLRSxJQUFJSCxHQUFTLEVBQUdDLEtBQUtDLElBQUlGLEdBQVMsV0FJdEMsU0FBVUksZUFBZUMsRUFBZ0JDLEdBQzdDLE1BQU8sQ0FDTCxDQUFDLEdBQUlELEdBQ0wsRUFBRUMsRUFBUSxXQUlSLFNBQVVDLGVBQWVDLEVBQWdCQyxHQUM3QyxNQUFPLENBQ0wsRUFBRUQsRUFBUSxHQUNWLENBQUMsR0FBSUMsSUFJVCxTQUFTQyxJQUFrQkMsRUFBR0MsSUFBS0MsRUFBR0MsS0FDcEMsTUFBTyxDQUNMLENBQUNBLEdBQUtILEVBQUlHLEVBQUlGLEVBQUlDLEdBQUlELEdBQUtBLEVBQUlDLEVBQUlGLEVBQUlFLElBQ3ZDLENBQUNBLEdBQUtELEVBQUlDLEVBQUlGLEVBQUlFLEdBQUlGLEdBQUtBLEVBQUlHLEVBQUlGLEVBQUlDLEtBSTNDLFNBQVNFLElBQ0xKLEVBQUdDLElBQUtDLEVBQUdDLE1BQ1hFLEVBQUdDLElBQUtDLEVBQUdDLEtBRWIsTUFBTyxDQUNMLENBQUNSLEVBQUlLLEVBQUlKLEVBQUlNLEVBQUdQLEVBQUlNLEVBQUlMLEVBQUlPLEdBQzVCLENBQUNOLEVBQUlHLEVBQUlGLEVBQUlJLEVBQUdMLEVBQUlJLEVBQUlILEVBQUlLLElBSWhDLFNBQVNDLEVBQW1CQyxHQUMxQixPQUFPQSxFQUFTQyxRQUNkLENBQUNDLEVBQUtDLElBQVFULEVBQW1CUyxFQUFLRCxJQUN0Q3pCLFVBSUUsU0FBVTJCLGdCQUNkQyxFQUNBQyxFQUNBQyxFQUEwQixJQUUxQixNQUFNQyxFQUFjVCxFQUFtQixDQUFDdkIsS0FBUytCLElBRWpELE1BQU8sQ0FDTEYsT0FBQUEsRUFDQUMsS0FBQUEsRUFDQUUsWUFBQUEsRUFDQUMsWUFMY3BCLEVBQWdCbUIsV0FTNUIsU0FBVUEsWUFDZGhCLEdBQ0FhLE9BQUVBLEVBQVFHLFlBQWFFLElBSXZCLE1BQU8sQ0FBRUMsRUFGQ3JDLEVBQWdCb0MsRUFBRSxHQUFHLEdBQUtsQixFQUFFb0IsRUFBSUYsRUFBRSxHQUFHLEdBQUtsQixFQUFFcUIsR0FBS1IsRUFBT00sRUFFdERHLEVBRE54QyxFQUFnQm9DLEVBQUUsR0FBRyxHQUFLbEIsRUFBRW9CLEVBQUlGLEVBQUUsR0FBRyxHQUFLbEIsRUFBRXFCLEdBQUtSLEVBQU9TLFVBSTFELFNBQVVMLFlBQ2RNLEdBQ0FWLE9BQUVBLEVBQVFJLFlBQWFDLElBRXZCLE1BQU1NLEVBQVVELEVBQUVKLEVBQUlOLEVBQU9NLEVBQXZCSyxFQUE2QkQsRUFBRUQsRUFBSVQsRUFBT1MsRUFDOUNGLEVBQUlGLEVBQUUsR0FBRyxHQUFLTSxFQUFPTixFQUFFLEdBQUcsR0FBS00sRUFDL0JILEVBQUlILEVBQUUsR0FBRyxHQUFLTSxFQUFPTixFQUFFLEdBQUcsR0FBS00sRUFFakMsTUFBTyxDQUFFSixFQUFBQSxFQUFHQyxFQUFBQSxFQUFHSSxHQURSTCxFQUFJQyxVQUlQLFNBQVVLLFlBQVdDLEtBQ3pCQSxFQUFJQyxPQUNKQSxJQUtBLE9BQU83QyxFQUFTNEMsR0FBTUUsS0FBS0MsR0FBV2QsWUFBWWMsRUFBUUYifQ==