import{SQRT_THREE as u,thousandthRound as c}from"./math.js";import{vertices as e}from"./hex.js";const x={f:[[1.5,0],[u/2,u]],b:[[2/3,0],[-1/3,u/3]]};export function rotate(t){return{f:[[Math.cos(t),0-Math.sin(t)],[Math.sin(t),Math.cos(t)]],b:[[Math.cos(t),Math.sin(t)],[0-Math.sin(t),Math.cos(t)]]}}function h([[t,o],[n,r]]){return[[r/(t*r-o*n),o/(o*n-t*n)],[n/(o*n-t*n),t/(t*r-o*n)]]}function b({f:[[t,o],[n,r]]},{f:[[i,e],[u,c]]}){return{f:[[t*i+o*u,t*e+o*c],[n*i+r*u,n*e+r*c]],b:h([[t*i+o*u,t*e+o*c],[n*i+r*u,n*e+r*c]])}}console.log(b(x,rotate(Math.PI/2)));export function configureLayout(t,o,n){return{radius:t,origin:o,size:n}}export function cubeToPoint(t,{radius:o,origin:n}){const r=(x.f[0][0]*t.q+x.f[0][1]*t.r)*o.x+n.x,i=(x.f[1][0]*t.q+x.f[1][1]*t.r)*o.y+n.y;return{x:c(r),y:c(i)}}export function pointToCube(t,{radius:o,origin:n}){const r=(t.x-n.x)/o.x,i=(t.y-n.y)/o.y,e=x.b[0][0]*r+x.b[0][1]*i,u=x.b[1][0]*r+x.b[1][1]*i;return{q:e,r:u,s:-e-u}}export function cellPoints({cell:t,layout:o}){return e(t).map(t=>cubeToPoint(t,o))}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sYXlvdXQudHMiXSwibmFtZXMiOlsiU1FSVF9USFJFRSIsInRob3VzYW5kdGhSb3VuZCIsInZlcnRpY2VzIiwicXJ4eSIsImYiLCJiIiwicm90YXRlIiwidGhldGEiLCJNYXRoIiwiY29zIiwic2luIiwiaW52ZXJ0TWF0cml4IiwiQSIsIkIiLCJDIiwiRCIsImNvbXBvc2VNYXRyaWNlcyIsIkUiLCJGIiwiRyIsIkgiLCJjb25zb2xlIiwibG9nIiwiUEkiLCJjb25maWd1cmVMYXlvdXQiLCJyYWRpdXMiLCJvcmlnaW4iLCJzaXplIiwiY3ViZVRvUG9pbnQiLCJjIiwieCIsInEiLCJyIiwieSIsInBvaW50VG9DdWJlIiwicCIsInB0IiwicyIsImNlbGxQb2ludHMiLCJjZWxsIiwibGF5b3V0IiwibWFwIiwidmVydGV4Il0sIm1hcHBpbmdzIjoicUJBR1NBLHFCQUFZQyxNQUF1QiwrQkFDZEMsTUFBZ0IsV0E0QjlDLE1BQU1DLEVBQXdCLENBQzVCQyxFQUFHLENBQ0QsQ0FBQyxJQUFPLEdBQ1IsQ0FBQ0osRUFBYSxFQUFHQSxJQUVuQkssRUFBRyxDQUNELENBQUMsRUFBSSxFQUFHLEdBQ1IsRUFBRSxFQUFJLEVBQUdMLEVBQWEsWUFJcEIsU0FBVU0sT0FBT0MsR0FDckIsTUFBTyxDQUNMSCxFQUFHLENBQ0QsQ0FBQ0ksS0FBS0MsSUFBSUYsR0FBMkIsRUFBbEJDLEtBQUtFLElBQUlILElBQzVCLENBQUNDLEtBQUtFLElBQUlILEdBQVFDLEtBQUtDLElBQUlGLEtBRTdCRixFQUFHLENBQ0QsQ0FBQ0csS0FBS0MsSUFBSUYsR0FBUUMsS0FBS0UsSUFBSUgsSUFDM0IsQ0FBb0IsRUFBbEJDLEtBQUtFLElBQUlILEdBQVlDLEtBQUtDLElBQUlGLE1BS3RDLFNBQVNJLElBQWVDLEVBQUdDLElBQUtDLEVBQUdDLEtBQ2pDLE1BQU8sQ0FDTCxDQUFDQSxHQUFLSCxFQUFJRyxFQUFJRixFQUFJQyxHQUFJRCxHQUFLQSxFQUFJQyxFQUFJRixFQUFJRSxJQUN2QyxDQUFDQSxHQUFLRCxFQUFJQyxFQUFJRixFQUFJRSxHQUFJRixHQUFLQSxFQUFJRyxFQUFJRixFQUFJQyxLQUkzQyxTQUFTRSxHQUNMWixJQUFLUSxFQUFHQyxJQUFLQyxFQUFHQyxNQUNoQlgsSUFBS2EsRUFBR0MsSUFBS0MsRUFBR0MsTUFFbEIsTUFBTyxDQUNMaEIsRUFBRyxDQUNELENBQUNRLEVBQUlLLEVBQUlKLEVBQUlNLEVBQUdQLEVBQUlNLEVBQUlMLEVBQUlPLEdBQzVCLENBQUNOLEVBQUlHLEVBQUlGLEVBQUlJLEVBQUdMLEVBQUlJLEVBQUlILEVBQUlLLElBRTlCZixFQUFHTSxFQUFhLENBQ2QsQ0FBQ0MsRUFBSUssRUFBSUosRUFBSU0sRUFBR1AsRUFBSU0sRUFBSUwsRUFBSU8sR0FDNUIsQ0FBQ04sRUFBSUcsRUFBSUYsRUFBSUksRUFBR0wsRUFBSUksRUFBSUgsRUFBSUssTUFLbENDLFFBQVFDLElBQUlOLEVBQWdCYixFQUFNRyxPQUFPRSxLQUFLZSxHQUFLLFlBRTdDLFNBQVVDLGdCQUNkQyxFQUNBQyxFQUNBQyxHQUVBLE1BQU8sQ0FBRUYsT0FBQUEsRUFBUUMsT0FBQUEsRUFBUUMsS0FBQUEsVUFHckIsU0FBVUMsWUFDZEMsR0FDQUosT0FBRUEsRUFBTUMsT0FBRUEsSUFFVixNQUFNSSxHQUFLM0IsRUFBS0MsRUFBRSxHQUFHLEdBQUt5QixFQUFFRSxFQUFJNUIsRUFBS0MsRUFBRSxHQUFHLEdBQUt5QixFQUFFRyxHQUFLUCxFQUFPSyxFQUFJSixFQUFPSSxFQUN0RUcsR0FBSzlCLEVBQUtDLEVBQUUsR0FBRyxHQUFLeUIsRUFBRUUsRUFBSTVCLEVBQUtDLEVBQUUsR0FBRyxHQUFLeUIsRUFBRUcsR0FBS1AsRUFBT1EsRUFBSVAsRUFBT08sRUFDcEUsTUFBTyxDQUFFSCxFQUFHN0IsRUFBZ0I2QixHQUFJRyxFQUFHaEMsRUFBZ0JnQyxXQUcvQyxTQUFVQyxZQUNkQyxHQUNBVixPQUFFQSxFQUFNQyxPQUFFQSxJQUVWLE1BQU1VLEdBQ0VELEVBQUVMLEVBQUlKLEVBQU9JLEdBQUtMLEVBQU9LLEVBRDNCTSxHQUVFRCxFQUFFRixFQUFJUCxFQUFPTyxHQUFLUixFQUFPUSxFQUUvQkYsRUFBSTVCLEVBQUtFLEVBQUUsR0FBRyxHQUFLK0IsRUFBT2pDLEVBQUtFLEVBQUUsR0FBRyxHQUFLK0IsRUFDekNKLEVBQUk3QixFQUFLRSxFQUFFLEdBQUcsR0FBSytCLEVBQU9qQyxFQUFLRSxFQUFFLEdBQUcsR0FBSytCLEVBRTNDLE1BQU8sQ0FBRUwsRUFBQUEsRUFBR0MsRUFBQUEsRUFBR0ssR0FEUk4sRUFBSUMsVUFJUCxTQUFVTSxZQUFXQyxLQUN6QkEsRUFBSUMsT0FDSkEsSUFLQSxPQUFPdEMsRUFBU3FDLEdBQU1FLElBQUtDLEdBQVdkLFlBQVljLEVBQVFGIn0=