import*as o from"./hex.js";export function make({shape:t="Hexagon",size:n={x:3,y:1},populate:r=!0}={}){let a=new Map;return r&&(a=e({grid:a,shape:t,size:n})),a}function e({grid:e,shape:t,size:r,emptyFirst:o=!1}){const f={Hexagon:n,Triangle:a,Star:l,Parallelogram:s,Rectangle:i};return o&&e.clear(),f[t](r,e)}function t(e,t,n,r=-t-n){const a=new Map(e),l=o.makeNode({q:t,r:n,s:r},"Cell");return a.set(l.id,l),o.vertices(l).forEach(e=>{l.links.add(e),e.links.add(l),a.set(e.id,e)}),o.edges(l).forEach(e=>{l.links.add(e),e.links.add(l),a.set(e.id,e)}),a}function n(e,n){let r=new Map(n);for(let n=-e.x;n<=e.x;n++)for(let a=-e.x;a<=e.x;a++)Math.abs(n)+Math.abs(a)+Math.abs(-n-a)<2*e.x&&(r=t(r,n,a));return r}function a(e,n){let r=new Map(n);for(let n=0;n<=e.x;n++)for(let a=0;a<=e.x-n;a++)r=t(r,n,a);return r}function l(e,n){let r=new Map(n);for(let n=-e.x;n<=e.x;n++)for(let a=-e.x;a<=e.x;a++){const e=-n-a;r=t(r,n,a),r=t(r,e,a),r=t(r,n,e,a)}return r}function s(e,n){let r=new Map(n);for(let n=0;n<=e.x;n++)for(let a=0;a<=e.y;a++)r=t(r,n,a);return r}function i(e,n){let r=new Map(n);for(let n=0;n<=e.x;n++){const a=Math.floor(n/2);for(let o=-a;o<e.y-a;o++)r=t(r,n,o)}return r}